.. _vac:

Import Visual Approach Charts
=============================

**Enroute Flight Navigation** can import image files with visual approach charts
and display them on the moving map.  The figure :ref:`vacImg` shows how this
will typically look.

.. _vacImg:
.. figure:: ./autogenerated/03-03-VAC.png
   :scale: 30 %
   :align: center
   :alt: Moving map display with approach chart

   Moving map display with embedded approach chart

**Enroute Flight Navigation** accepts visual approach charts in one of the
following formats.

- Geo-referenced image files in GeoTIFF format.

- TripKits that contain collections of approach charts for a specific area or
  flight route. The `AIP Browser DE
  <https://mpmediasoft.de/products/AIPBrowserDE/help/AIPBrowserDE.html>`_ can
  produce TripKits for Germany.

.. note:: GeoTIFF is a complex format that supports many use cases, ranging 
  from astronomy to high-precision land survey. **Enroute Flight Navigation**
  only supports a subset of the GeoTIFF standard. If you encounter a GeoTIFF 
  file that **Enroute Flight Navigation** does not recognize, please 
  `open an issue report 
  <https://github.com/Akaflieg-Freiburg/enroute/issues/new/choose>`_.
  We will be glad to help!


Obtain Approach Chart Files
---------------------------

- Michael Paus' free software `AIP Browser DE
  <https://mpmediasoft.de/products/AIPBrowserDE/help/AIPBrowserDE.html>`_ can
  generate GeoTIFF images and TripKits for all German airfields. The data comes
  from Germany's official `AIP <https://aip.dfs.de/basicAIP>`_, as provided by
  `DFS Deutsche Flugsicherung GmbH <https://www.dfs.de/homepage>`_.

- `GeoRef Tool <https://georefsite.onrender.com/>`_ is a free, web-based 
  application that allows users to upload an image (e.g., aerodrome charts, 
  approach plates) and manually georeference it by assigning reference points. 
  The tool then generates a GeoTIFF file that can be imported into Enroute or 
  other flight navigation software. This enables pilots and navigators to 
  integrate custom maps with accurate geographic positioning, enhancing 
  situational awareness during flight planning and navigation.

  For more details, visit the `GeoRef Tool Website <https://georefsite.onrender.com/>`_ 

Please get in touch with us if you are aware of other data sources. We will be
glad to list them here.


Import Approach Chart Files
---------------------------
 
Transfer the GeoTIFF of TripKit file to your device and open the file on your device.  The
Section :ref:`importData` explains the process in detail.

.. note:: TripKits are ZIP files with specialized content. Trying to open a 
  TripKit file, some file management utilities will automatically unpack the ZIP 
  file rather than offering to open it in **Enroute Flight Navigation**.  Along 
  similar lines, GeoTIFF files are image files with specialized metadata and some
  file management utilities will launch an image viewing application rather than
  offering to open a GeoTIFF file in **Enroute Flight Navigation**.
  
  If you encounter problems opening a TripKit or GeoTIFF file, look for an icon
  or menu item labeled "Open withâ€¦".  Some utilities open an appropriate context 
  menu after a tap-and-hold gesture.


Manage Your Approach Chart Library
----------------------------------

On the moving map screen, open the main menu and go to "Library/Maps and Data".
The page "Map and Data Library" will then open. The page has a "VAC" tab listing
the approach charts. Use the context menus to uninstall charts and retrieve
basic information.

The three-dot menu at the top right of the screen allows clearing your approach
chart library.


Use Approach Charts
-------------------

Once approach charts are installed, open the main menu and go to "Approach
Charts". The page "Visual Approach Charts" will then open. The page lists all
approach charts installed in your device, sorted by distance to the current
position. Tap on a chart to open "Approach Chart" page, which shows a slightly
simplified moving map with the approach chart superimposed on top of the usual
map layer. As usual, tap on the left arrow symbol in the page title to close the
page and return to the standard moving map display.

In order to avoid surprises in flight, **Enroute Flight Navigation** will not
open the approach chart page automatically.

.. note:: The menu entry "Approach Charts" is only visible if approach
  charts are installed on your device. If you cannot find the menu entry, 
  install some approach charts first.
